/*!2018-08-02 */
require(["domReady!","avalon","jquery","common/common","pager","jquery.cookie","marketHeader","SuperSlide211","commona"],function(a,b,c,d){var e=b.define({$id:"cloudMarketIndex",boutiqueList:[],classifyList:[],fourList:[],servicesList:[],pager:{currentPage:1,totalItems:0,perPages:10,showJumper:!0,onJump:function(a,b){e.pager.currentPage=b.currentPage}},getInfoList:function(){d.ajax({url:"/service/queryMarketServiceList.json",dataType:"json",type:"post",async:!0,callback:function(a){if(null!=a){var b=a.boutiqueList;if(b)for(var c=0,d=b.length;c<d;c++)b[c].tag=b[c].service_keyword.split(",")[0];else b=[];e.boutiqueList=b;for(var f=[],g=a.classiFiy.length>7?7:a.classiFiy.length,h=a.classiFiy.length>4?4:a.classiFiy.length,c=0,d=g;c<d;c++)a.classiFiy[c].class=c%2==0?"light":"dark",f.push(a.classiFiy[c]);e.classifyList=f;for(var i=[],c=0,d=h;c<d;c++)i.push(a.classiFiy[c]);e.fourList=i}},failure:function(a){d.tips(r.error_info)}})},getAllServices:function(a){d.ajax({url:"/service/queryServiceListByClassiFiy.json",dataType:"json",type:"post",data:{classify_id:a},async:!0,callback:function(a){if(e.servicesList=[],null!=a){for(var b=[],c=0,d=a.list.length;c<d;c++){var f={service_name:a.list[c].service_name,service_id:a.list[c].service_id};b.push(f)}e.servicesList=b}},failure:function(a){d.tips(r.error_info)}})},slide:function(){function a(){e=d+1,e>c("#banner .cover").length-1&&(e=0),c("#banner .cover").eq(d).css("z-index","2"),c("#banner .cover").eq(e).css("z-index","1"),c("#banner .cover").eq(e).show(),c("#banner .cover").eq(d).hide(),c(".hd li").removeClass("on"),c(".hd li").eq(e).addClass("on"),d=e}var b,d=0,e=1,f=5e3,g=1;c("#banner .cover").hide(),c("#banner .cover").eq(0).fadeIn("slow"),c("#banner .cover").length>1?(c(".hd li").eq(0).addClass("on"),b=setInterval(a,f),c(".hd li").click(function(){var a=c(".hd li").index(this);a!=d&&1==g&&(g=0,c("#banner .cover").eq(d).css("z-index","2"),c("#banner .cover").eq(a).css("z-index","1"),c("#banner .cover").eq(a).show(),c("#banner .cover").eq(d).hide(0,function(){g=1}),c(".hd li").removeClass("on"),c(".hd li").eq(a).addClass("on"),d=a)}),c(".hd").hover(function(){clearInterval(b)},function(){b=setInterval(a,f)})):c(".hd").hide()},banner_pointer_center:function(){var a=c(".fullSlide .hd").width(),b=-(a/2);c(".fullSlide .hd").css("margin-left",b+"px")}});jQuery(function(){function a(d){jQuery(".cover").each(function(){if(0===this.height)return c=!1,!1}),c?(clearTimeout(b),d()):(c=!0,b=setTimeout(function(){a(d)},500))}e.slide();var b,c=!0;a(function(){var a=document.getElementById("banner"),b=document.getElementById("loading");b.style.display="none",a.style.display="block"})}),setTimeout(function(){e.banner_pointer_center()},300),c(function(){e.getInfoList()}),b.scan()});